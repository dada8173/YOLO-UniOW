# GroceryDataset 標註統計視覺化報告

## 📊 概述

本報告包含 GroceryDataset 的完整標註統計分析與視覺化圖表。

### 生成日期
2026年1月15日

### 數據集基本資訊
- **總圖片數量**: 354 張
- **總標註數量**: 13,184 個
- **類別總數**: 11 個
- **平均每張圖片的標註數**: 37.24 個

---

## 📈 生成的視覺化圖表

### 1. 類別分佈圖 (`category_distribution.png`)
展示各類別的標註數量分佈：
- **長條圖**: 直觀比較各類別的標註數量
- **圓餅圖**: 顯示各類別所占的比例

**關鍵發現**:
- `category_0` 占比最高 (79.19%, 10,440 個標註)
- 數據集存在明顯的類別不平衡問題
- 其他類別標註數量相對較少

### 2. 邊界框統計圖 (`bbox_statistics.png`)
包含四個子圖，全面分析邊界框特性：

#### a) 邊界框面積分佈
- **平均面積**: 67,030 像素²
- **中位數面積**: 59,200 像素²
- **面積範圍**: 10,336 ~ 421,296 像素²

#### b) 寬度與高度分佈
- **平均寬度**: 201.4 像素
- **平均高度**: 309.0 像素
- 顯示高度普遍大於寬度（垂直方向的物體較多）

#### c) 長寬比分佈
- **平均長寬比**: 0.66
- 表明大多數物體呈垂直長方形

#### d) 寬度 vs 高度散點圖
- 展示邊界框尺寸的相關性
- 幫助識別異常值

### 3. 每張圖片的物體數量分佈 (`objects_per_image.png`)
展示數據集中物體密度的分佈：

- **平均**: 37.24 個物體/圖片
- **中位數**: 36 個物體/圖片
- **範圍**: 10 ~ 168 個物體/圖片
- **標準差**: 17.24

**包含**:
- 直方圖顯示分佈形態
- 箱型圖展示統計特徵

### 4. 各類別邊界框面積比較 (`category_area_comparison.png`)
使用箱型圖比較不同類別的邊界框面積分佈：

- 識別哪些類別的物體較大或較小
- 顯示每個類別內部的尺寸變異性
- 幫助理解類別間的物理特徵差異

### 5. 圖片尺寸分佈 (`image_size_distribution.png`)
分析數據集中圖片的尺寸特性：

**包含**:
- **散點圖**: 展示圖片寬度與高度的分佈
- **直方圖**: 顯示寬度和高度的頻率分佈

**關鍵資訊**:
- 不同尺寸數量: 268 種
- 最常見尺寸: 3264×2448 (45張, 12.71%)
- 其他常見尺寸:
  - 4320×2432 (21張, 5.93%)
  - 2816×2112 (18張, 5.08%)

---

## 📋 統計報告

詳細的文字統計報告請參閱 `statistics_report.txt`，包含：

### 基本統計
- 圖片、標註、類別總數
- 平均每張圖片的標註數

### 類別統計
- 每個類別的標註數量
- 各類別所占百分比

### 邊界框統計
- 面積、寬度、高度的平均值、中位數、最小值、最大值、標準差
- 長寬比統計

### 每張圖片的物體數量統計
- 平均值、中位數、範圍、標準差

### 圖片尺寸統計
- 所有不同尺寸及其出現頻率

---

## 🔍 數據集特徵分析

### 優點
✅ 標註數量充足 (13,184 個)
✅ 每張圖片平均有 37 個物體，適合訓練密集檢測模型
✅ 圖片數量適中 (354 張)

### 需要注意的問題
⚠️ **嚴重的類別不平衡**: category_0 占 79.19%
⚠️ **圖片尺寸不統一**: 268 種不同尺寸，可能需要統一處理
⚠️ **某些類別樣本過少**: category_3 僅 67 個標註 (0.51%)

### 建議
1. **處理類別不平衡**:
   - 對少數類別進行數據增強
   - 使用加權損失函數
   - 考慮過採樣或欠採樣策略

2. **圖片預處理**:
   - 統一圖片尺寸或使用自適應輸入尺寸
   - 考慮使用多尺度訓練

3. **增加少數類別樣本**:
   - 針對 category_3, category_5, category_9, category_10 收集更多樣本
   - 或考慮合併相似類別

---

## 🛠️ 使用的腳本

### `analyze_annotations_stats.py`
完整的統計分析和視覺化腳本，包含：
- 數據載入和解析
- 統計計算
- 多種視覺化圖表生成
- 統計報告生成

### 執行方式
```bash
cd GroceryDataset_
python analyze_annotations_stats.py
```

### 輸出
所有圖表和報告將保存在 `statistics_visualizations/` 目錄中。

---

## 📞 後續工作

如需進一步分析，可以考慮：
- 類別共現矩陣（哪些類別經常一起出現）
- 時間序列分析（如果圖片有時間順序）
- 標註質量分析（檢測異常標註）
- 與其他數據集的對比分析

---

*本報告由自動化腳本生成，所有統計數據基於 `annotations_coco.json`*
